<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Task 3: Booster Ignition Code</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Pixelify+Sans:wght@400..700&display=swap" rel="stylesheet">
    <style>
        /* Reuse Task 1 CSS with these additions */
        body {
            margin: 0;
            padding: 10px;
            height: 85vh;
            background-color: #0a0a0a;
            color: #00ff00;
            background-image: url("../Images/Space.jpg");
            background-size: cover;
            font-family: "Pixelify Sans", sans-serif;
            display: grid;
            grid-template-columns: 65% 35%;
            gap: 10px;
        }

        .scene-view {
            border: 5px solid #00ff00;
            border-radius: 20px;
            position: relative;
            overflow: hidden;
        }

        .scene-view img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .narration-overlay {
            position: absolute;
            bottom: 10px;
            left: 50%;
            text-align: center;
            transform: translateX(-50%);
            width: 80%;
            background: rgba(0, 0, 0, 0.85);
            padding: 30px;
            border: 2px solid #00ff00;
            border-radius: 20px;
            
        }
        

        .right-panel {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .corrupted-logs {
            background: rgba(0, 0, 0, 0.7);
            border: 2px solid #ff5555;
            padding: 20px;
            border-radius: 10px;
        }

        #logs {
            color: #ff5555;
            margin: 10px 0;
            font-family: 'Courier New', monospace;
        }

        .code-input {
            background: #001100;
            color: #00ff00;
            border: 2px solid #00ff00;
            padding: 15px;
            font-size: 2em;
            width: 100%;
            text-align: center;
            letter-spacing: 5px;
        }

        .hint-box {
            border: 2px dashed #ffff00;
            padding: 15px;
            margin-top: 20px;
            color: #ffff00;
        
        }
 
        #continue-btn {
        background-color: rgba(0, 0, 0, 0.7);
        color: #0f0;
        border: 2px solid #0f0;
        border-radius: 5px;
        padding: 10px 20px;
        font-family: 'Courier New', monospace;
        text-transform: uppercase;
        letter-spacing: 2px;
        cursor: pointer;
        box-shadow: 0 0 10px #0f0;
        transition: all 0.3s ease;
        width: 100%;
        margin-top: 15px;
        }

        #continue-btn:hover {
        background: #00ff00;
        color: #000;
        box-shadow: 0 0 15px #00ff00;
        }      

        input[type=text] {
        width: 100%;
        background-color: rgba(0, 0, 0, 0.7);
        color: #0f0;
        border: 2px solid #0f0;
        padding: 10px;
        font-family: 'Courier New', monospace;
        font-size: 16px;
        box-sizing: border-box;
        margin-bottom: 20px;
        }   

        input[type=text]:focus {
            background-color: rgba(0, 20, 0, 0.8);
            box-shadow: 0 0 15px #0f0;
        }

        input[type=text]::placeholder {
            color: rgba(0, 255, 0, 0.5);
        }

    </style>
</head>
<body>
   
    <div class="scene-view">
        <div class="narration-overlay">
            <p class="task-narration">
                #TURBO BOOSTERS: LAST CHANCE FOR ESCAPE
                ENTER 8-DIGIT CODE FROM CORRUPTED LOGS
               <br>ATTEMPTS REMAINING: <span id="attempts-count">3</span>
            </p>
        </div>
        <img src="../Images/black hole.jpg" alt="Boosters chamber">
    </div>


    <div class="right-panel">
        <div class="corrupted-logs">
            <h2>üö® CORRUPTED SYSTEM LOGS</h2>
            <div id="logs">
                üö® CORRUPTED SYSTEM LOGS<br><br>
                [3] Life Support - 19:45:00<br>
                [1] Thrusters - 18:23:00<br>
                [4] Navigation - 20:17:00<br>
                [2] Reactor - 19:02:00
            </div>
            
            <div class="hint-box">
                üîç Clue <br>
                Follow the path of survival: First, you must move, then power the heart,
                <br> then breathe, then see where to go. Seek the fleeting minutes‚Äîthey whisper the sequence of survival
            </div>
        </div>

        <div id="input-section">
            <input type="text" id="input" placeholder="Enter 8-digit code" maxlength="8">
            <div class="continue-button-container">
                <button id="continue-btn">Continue</button>
            </div>
    </div>

    <script>
        const correctCode = "23024517";
        let attemptsLeft = 3;
        
        // Change the event listener to make continue button work like submit
        document.getElementById('continue-btn').addEventListener('click', checkCode);
        document.getElementById('input').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') checkCode();
        });
    
        function checkCode() {
            const input = document.getElementById('input').value;
            
            if (input === correctCode) {
                // Correct code - redirect to success page
                window.location.href = 'success.html';
            } else {
                attemptsLeft--;
                document.getElementById('attempts-count').textContent = attemptsLeft;
                
                if (attemptsLeft <= 0) {
                    // Game over - redirect to game over page
                    window.location.href = 'game-over.html';
                } else {
                    // Wrong answer but still have attempts
                    alert('INCORRECT CODE. TRY AGAIN.');
                    document.getElementById('input').value = "";
                }
            }
        }
    </script>
</body>
</html>